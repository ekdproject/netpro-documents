/*! For license information please see main.370e7cc91a103239ce3f.hot-update.js.LICENSE.txt */
self.webpackHotUpdatecustom("main",{"./app/plugins/stl.js":(e,o,t)=>{const n=t("./app/node_modules/three/build/three.cjs"),{STLLoader:i}=t("./app/node_modules/three/examples/jsm/loaders/STLLoader.js"),{OrbitControls:r}=t("./app/node_modules/three/examples/jsm/controls/OrbitControls.js"),{GUI:a}=t("./app/node_modules/dat.gui/build/dat.gui.module.js");e.exports={stlLoader:e=>{fetch(e).then((e=>e.arrayBuffer())).then((e=>{!async function(e){var o,t,a,d,s,l,p,w,m,c,h=parseFloat("1.05"),u=parseFloat("200"),x=parseFloat("1.75"),F=parseFloat("150");(o=document.querySelector("#content-dialog")).innerHTML="",(t=new n.PerspectiveCamera(37.8,window.innerWidth/window.innerHeight,1,1e5)).position.z=300,t.position.y=-500,t.position.x=-500,t.up=new n.Vector3(0,0,1),(a=new n.Scene).background=new n.Color(3158064),new FileReader;var v=(new i).parse(e);v.computeVertexNormals(),v.center(),console.log(v);var f=new n.MeshPhongMaterial({color:16777215});(p=new n.Mesh(v,f)).traverse((function(e){if(e instanceof n.Mesh)for(var o=e.geometry.getAttribute("position").array,t=0;t<o.length;t+=9){var i={};i.x=o[t+0],i.y=o[t+1],i.z=o[t+2];var r={};r.x=o[t+3],r.y=o[t+4],r.z=o[t+5];var a={};a.x=o[t+6],a.y=o[t+7],a.z=o[t+8]}}));var g=(new n.Box3).setFromObject(p);w=g.max.z-g.min.z,m=g.max.x-g.min.x,c=g.max.y-g.min.y,(w/10).toFixed(2),(m/10).toFixed(2),(c/10).toFixed(2);var y=0,M=(y=y.toFixed(2))*h;M=M.toFixed(2);var z=parseFloat(2*(0/(x/2)^2/Math.PI)/10).toFixed(2);z=parseFloat(z).toFixed(0);var L=Math.floor(z/F/60);L=parseFloat(L).toFixed(0);var b=z/F%60;0==(b=parseFloat(b).toFixed(0))&&(b=1);var j,H=M*u/1e3;H=parseFloat(H).toFixed(2),j=w>m&&w>c?2*w:m>w&&m>c?2*m:c>w&&c>m?2*c:4*c,t.position.set(0,-j,0);var S=j+200,P=j+200,C=Math.floor(S/10),W=Math.floor(P/10),_=new n.Mesh(new n.PlaneGeometry(S,P,C,W),new n.MeshPhongMaterial({emissive:7368816,color:0,wireframe:!0,wireframeLinewidth:1}));_.receiveShadow=!0,_.position.z=g.min.z-.1,a.add(_),a.add(p),(l=new n.HemisphereLight(15263976,0,1)).position.set(0,0,0),a.add(l);const E=new n.DirectionalLight(15263976,.5);a.add(E),(d=new n.WebGLRenderer({antialias:!1})).setSize(window.innerWidth,window.innerHeight),(s=new r(t,d.domElement)).update(),o.appendChild(d.domElement),d.render(a,t);const G=()=>{requestAnimationFrame(G),O()};function O(){s.update(),l.position.copy(t.position),d.render(a,t)}G(),window.addEventListener("resize",(function(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight),O()}),!1)}(e)}))}}}},(function(e){e.h=()=>"0d689dd590e80c4562d4"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWlCLFNBQVMsSUFDbkQvRSxFQUFNNEUsSUFBSUUsSUFHVjdFLEVBQVcsSUFBSW5CLEVBQU1rRyxjQUFjLENBQUVDLFdBQVcsS0FDdkNDLFFBQVFqRSxPQUFPQyxXQUFZRCxPQUFPRSxjQUMzQ2pCLEVBQVcsSUFBSWpCLEVBQWNjLEVBQVFFLEVBQVNrRixhQUNyQ0MsU0FDVHRGLEVBQVV1RixZQUFZcEYsRUFBU2tGLFlBQy9CbEYsRUFBU3FGLE9BQU90RixFQUFPRCxHQUN2QixNQUFNd0YsRUFBVUEsS0FDZEMsc0JBQXNCRCxHQUN0QkQsR0FBUSxFQUVWLFNBQVNBLElBQ1BwRixFQUFTa0YsU0FDVGpGLEVBQU1pQixTQUFTcUUsS0FBSzFGLEVBQU9xQixVQUUzQm5CLEVBQVNxRixPQUFPdEYsRUFBT0QsRUFDekIsQ0FDQXdGLElBT0F0RSxPQUFPeUUsaUJBQWlCLFVBTnhCLFdBQ0UzRixFQUFPNEYsT0FBUzFFLE9BQU9DLFdBQWFELE9BQU9FLFlBQzNDcEIsRUFBTzZGLHlCQUNQM0YsRUFBU2lGLFFBQVFqRSxPQUFPQyxXQUFZRCxPQUFPRSxhQUMzQ21FLEdBQ0YsSUFDa0QsRUFpQnRELENBU01PLENBQUtsRyxFQUFTLEdBQ2Qsa0JDek5ObUcsRUFBb0JDLEVBQUksSUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL2N1c3RvbS8uL2FwcC9wbHVnaW5zL3N0bC5qcyIsIndlYnBhY2s6Ly9jdXN0b20vd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCBUSFJFRSA9IHJlcXVpcmUoXCJ0aHJlZVwiKTtcclxuY29uc3QgeyBTVExMb2FkZXIgfSA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9TVExMb2FkZXJcIik7XHJcbmNvbnN0IHsgT3JiaXRDb250cm9scyB9ID0gcmVxdWlyZShcInRocmVlL2FkZG9ucy9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzXCIpO1xyXG5jb25zdCB7IEdVSSB9ID0gcmVxdWlyZShcImRhdC5ndWlcIik7XHJcblxyXG5cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXQoZmlsZSkge1xyXG4gICAgdmFyIGNvbnRhaW5lcixcclxuICAgICAgY2FtZXJhLFxyXG4gICAgICBzY2VuZSxcclxuICAgICAgcmVuZGVyZXIsXHJcbiAgICAgIGNvbnRyb2xzLFxyXG4gICAgICBsaWdodCxcclxuICAgICAgdm9sLFxyXG4gICAgICBtZXNoLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICAgIGhlaWdodEZpbmFsLFxyXG4gICAgICB3aWR0aCxcclxuICAgICAgd2lkdGhGaW5hbCxcclxuICAgICAgZGVwdGgsXHJcbiAgICAgIGRlcHRoRmluYWw7XHJcbiAgXHJcbiAgICB2YXIgZGVuc2l0eSA9IHBhcnNlRmxvYXQoXCIxLjA1XCIpO1xyXG4gICAgdmFyIGZpbGFtZW50X2Nvc3QgPSBwYXJzZUZsb2F0KFwiMjAwXCIpO1xyXG4gICAgdmFyIGZpbGFtZW50X2RpYW1ldGVyID0gcGFyc2VGbG9hdChcIjEuNzVcIik7XHJcbiAgICB2YXIgcHJpbnRpbmdfc3BlZWQgPSBwYXJzZUZsb2F0KFwiMTUwXCIpO1xyXG4gIFxyXG4gICAgY29udGFpbmVyID1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGVudC1kaWFsb2cnKTtcclxuICBcclxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xyXG4gIFxyXG4gICAgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKFxyXG4gICAgICAzNy44LFxyXG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCxcclxuICAgICAgMSxcclxuICAgICAgMTAwMDAwXHJcbiAgICApO1xyXG4gIFxyXG4gICAgY2FtZXJhLnBvc2l0aW9uLnogPSAzMDA7XHJcbiAgICBjYW1lcmEucG9zaXRpb24ueSA9IC01MDA7XHJcbiAgICBjYW1lcmEucG9zaXRpb24ueCA9IC01MDA7XHJcbiAgICBjYW1lcmEudXAgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAxKTtcclxuICBcclxuICAgIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XHJcbiAgICBzY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRIUkVFLkNvbG9yKDB4MzAzMDMwKTtcclxuICBcclxuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gIFxyXG4gICAgdmFyIGdlb21ldHJ5ID0gbmV3IFNUTExvYWRlcigpLnBhcnNlKGZpbGUpO1xyXG4gICAgLyogICBcclxuICAgIGdlb21ldHJ5LmNvbXB1dGVGYWNlTm9ybWFscygpO1xyXG4gICAgKi9cclxuICAgIGdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XHJcbiAgICBnZW9tZXRyeS5jZW50ZXIoKTtcclxuICAgIGNvbnNvbGUubG9nKGdlb21ldHJ5KTtcclxuICBcclxuICAgIHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IGNvbG9yOiAweGZmZmZmZiB9KTtcclxuICAgIG1lc2ggPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gIFxyXG4gICAgLy8gQ0FMQ1VMQVRJTkcgVEhFIFZPTFVNRVxyXG4gICAgdm9sID0gMDtcclxuICBcclxuICAgIG1lc2gudHJhdmVyc2UoZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcclxuICAgICAgICB2YXIgcG9zaXRpb25zID0gY2hpbGQuZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIikuYXJyYXk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3NpdGlvbnMubGVuZ3RoOyBpICs9IDkpIHtcclxuICAgICAgICAgIHZhciB0MSA9IHt9O1xyXG4gICAgICAgICAgdDEueCA9IHBvc2l0aW9uc1tpICsgMF07XHJcbiAgICAgICAgICB0MS55ID0gcG9zaXRpb25zW2kgKyAxXTtcclxuICAgICAgICAgIHQxLnogPSBwb3NpdGlvbnNbaSArIDJdO1xyXG4gIFxyXG4gICAgICAgICAgdmFyIHQyID0ge307XHJcbiAgICAgICAgICB0Mi54ID0gcG9zaXRpb25zW2kgKyAzXTtcclxuICAgICAgICAgIHQyLnkgPSBwb3NpdGlvbnNbaSArIDRdO1xyXG4gICAgICAgICAgdDIueiA9IHBvc2l0aW9uc1tpICsgNV07XHJcbiAgXHJcbiAgICAgICAgICB2YXIgdDMgPSB7fTtcclxuICAgICAgICAgIHQzLnggPSBwb3NpdGlvbnNbaSArIDZdO1xyXG4gICAgICAgICAgdDMueSA9IHBvc2l0aW9uc1tpICsgN107XHJcbiAgICAgICAgICB0My56ID0gcG9zaXRpb25zW2kgKyA4XTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIFxyXG4gICAgdmFyIGJveCA9IG5ldyBUSFJFRS5Cb3gzKCkuc2V0RnJvbU9iamVjdChtZXNoKTtcclxuICBcclxuICAgIGhlaWdodCA9IGJveC5tYXgueiAtIGJveC5taW4uejtcclxuICAgIHdpZHRoID0gYm94Lm1heC54IC0gYm94Lm1pbi54O1xyXG4gICAgZGVwdGggPSBib3gubWF4LnkgLSBib3gubWluLnk7XHJcbiAgXHJcbiAgICBoZWlnaHRGaW5hbCA9IGhlaWdodCAvIDEwO1xyXG4gICAgaGVpZ2h0RmluYWwgPSBoZWlnaHRGaW5hbC50b0ZpeGVkKDIpO1xyXG4gICAgd2lkdGhGaW5hbCA9IHdpZHRoIC8gMTA7XHJcbiAgICB3aWR0aEZpbmFsID0gd2lkdGhGaW5hbC50b0ZpeGVkKDIpO1xyXG4gICAgZGVwdGhGaW5hbCA9IGRlcHRoIC8gMTA7XHJcbiAgICBkZXB0aEZpbmFsID0gZGVwdGhGaW5hbC50b0ZpeGVkKDIpO1xyXG4gICAgdmFyIHZvbHVtZUZpbmFsID0gdm9sIC8gMTAwMDtcclxuICAgIHZvbHVtZUZpbmFsID0gdm9sdW1lRmluYWwudG9GaXhlZCgyKTtcclxuICAgIHZhciB3ZWlnaHRGaW5hbCA9IHZvbHVtZUZpbmFsICogZGVuc2l0eTtcclxuICAgIHdlaWdodEZpbmFsID0gd2VpZ2h0RmluYWwudG9GaXhlZCgyKTtcclxuICBcclxuICAgIHZhciBmaWxhbWVudF9sZW5ndGggPSBwYXJzZUZsb2F0KFxyXG4gICAgICAoKCh2b2wgLyAoZmlsYW1lbnRfZGlhbWV0ZXIgLyAyKSkgXiAoMiAvIE1hdGguUEkpKSAqIDIpIC8gMTBcclxuICAgICkudG9GaXhlZCgyKTtcclxuICAgIGZpbGFtZW50X2xlbmd0aCA9IHBhcnNlRmxvYXQoZmlsYW1lbnRfbGVuZ3RoKS50b0ZpeGVkKDApO1xyXG4gIFxyXG4gICAgdmFyIGhvdXJzID0gTWF0aC5mbG9vcihmaWxhbWVudF9sZW5ndGggLyBwcmludGluZ19zcGVlZCAvIDYwKTtcclxuICAgIGhvdXJzID0gcGFyc2VGbG9hdChob3VycykudG9GaXhlZCgwKTtcclxuICBcclxuICAgIHZhciBtaW51dGVzID0gKGZpbGFtZW50X2xlbmd0aCAvIHByaW50aW5nX3NwZWVkKSAlIDYwO1xyXG4gICAgbWludXRlcyA9IHBhcnNlRmxvYXQobWludXRlcykudG9GaXhlZCgwKTtcclxuICBcclxuICAgIGlmIChtaW51dGVzID09IDApIHtcclxuICAgICAgbWludXRlcyA9IDE7XHJcbiAgICB9XHJcbiAgXHJcbiAgICB2YXIgZmluYWxDb3N0ID0gKHdlaWdodEZpbmFsICogZmlsYW1lbnRfY29zdCkgLyAxMDAwO1xyXG4gICAgZmluYWxDb3N0ID0gcGFyc2VGbG9hdChmaW5hbENvc3QpLnRvRml4ZWQoMik7XHJcbiAgXHJcbiAgICB2YXIgZGlzdGFuY2U7XHJcbiAgXHJcbiAgICBpZiAoaGVpZ2h0ID4gd2lkdGggJiYgaGVpZ2h0ID4gZGVwdGgpIHtcclxuICAgICAgZGlzdGFuY2UgPSBoZWlnaHQgKiAyO1xyXG4gICAgfSBlbHNlIGlmICh3aWR0aCA+IGhlaWdodCAmJiB3aWR0aCA+IGRlcHRoKSB7XHJcbiAgICAgIGRpc3RhbmNlID0gd2lkdGggKiAyO1xyXG4gICAgfSBlbHNlIGlmIChkZXB0aCA+IGhlaWdodCAmJiBkZXB0aCA+IHdpZHRoKSB7XHJcbiAgICAgIGRpc3RhbmNlID0gZGVwdGggKiAyO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGlzdGFuY2UgPSBkZXB0aCAqIDQ7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBjYW1lcmEucG9zaXRpb24uc2V0KDAsIC1kaXN0YW5jZSwgMCk7XHJcbiAgXHJcbiAgICB2YXIgeCA9IGRpc3RhbmNlICsgMjAwO1xyXG4gICAgdmFyIHkgPSBkaXN0YW5jZSArIDIwMDtcclxuICAgIHZhciBkaXZpc2lvbl94ID0gTWF0aC5mbG9vcih4IC8gMTApO1xyXG4gICAgdmFyIGRpdmlzaW9uX3kgPSBNYXRoLmZsb29yKHkgLyAxMCk7XHJcbiAgXHJcblxyXG4gICAgdmFyIHdpcmVQbGFuZSA9IG5ldyBUSFJFRS5NZXNoKFxyXG4gICAgICBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSh4LCB5LCBkaXZpc2lvbl94LCBkaXZpc2lvbl95KSxcclxuICAgICAgbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtcclxuICAgICAgICBlbWlzc2l2ZTogMHg3MDcwNzAsXHJcbiAgICAgICAgY29sb3I6IDB4MDAwMDAwLFxyXG4gICAgICAgIHdpcmVmcmFtZTogdHJ1ZSxcclxuICAgICAgICB3aXJlZnJhbWVMaW5ld2lkdGg6IDEsXHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gICAgd2lyZVBsYW5lLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG4gICAgd2lyZVBsYW5lLnBvc2l0aW9uLnogPSBib3gubWluLnogLSAwLjE7XHJcblxyXG4gICAgc2NlbmUuYWRkKHdpcmVQbGFuZSk7XHJcbiAgXHJcbiAgICAvLyBBTiBBTFRFUk5BVElWRSBGT1IgTU9WSU5HIFRIRSBPQkpFQ1QgVVNJTkcgVEhFIE1PVVNFIFdJVEhJTiBUSEUgUkVOREVSRVJcclxuICAgIC8vIGNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhKTtcclxuICBcclxuICAgIHNjZW5lLmFkZChtZXNoKTtcclxuICBcclxuICAgIGxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCgweGU4ZThlOCwgMHgwMDAwMDAsIDEpO1xyXG4gICAgbGlnaHQucG9zaXRpb24uc2V0KDAsIDAsIDApO1xyXG4gICAgc2NlbmUuYWRkKGxpZ2h0KTtcclxuICAgIGNvbnN0IGxpZ2h0MiA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZThlOGU4LDAuNSlcclxuICAgIHNjZW5lLmFkZChsaWdodDIpXHJcblxyXG5cclxuICAgIHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoeyBhbnRpYWxpYXM6IGZhbHNlIH0pO1xyXG4gICAgcmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuICAgIGNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50KTtcclxuICAgIGNvbnRyb2xzLnVwZGF0ZSgpO1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xyXG4gICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xyXG4gICAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgICByZW5kZXIoKTtcclxuICAgIH07XHJcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICAgIGNvbnRyb2xzLnVwZGF0ZSgpO1xyXG4gICAgICBsaWdodC5wb3NpdGlvbi5jb3B5KGNhbWVyYS5wb3NpdGlvbik7XHJcbiAgXHJcbiAgICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcclxuICAgIH1cclxuICAgIGFuaW1hdGUoKTtcclxuICAgIGZ1bmN0aW9uIG9uV2luZG93UmVzaXplKCkge1xyXG4gICAgICBjYW1lcmEuYXNwZWN0ID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICAgIHJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XHJcbiAgICAgIHJlbmRlcigpO1xyXG4gICAgfVxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcclxuICAgIFxyXG4gICAgICAgIC8qICAgIFxyXG4gICAgY29uc3QgZ3VpID0gbmV3IEdVSSgpO1xyXG4gICAgY29uc3QgY29udHJvbGxpR3VpID0gZ3VpLmFkZEZvbGRlcihcIkNvbnRyb2xsaVwiKTtcclxuICAgIGNvbnRyb2xsaUd1aS5hZGQobGlnaHQsIFwiaW50ZW5zaXR5XCIsIDAsIDEwLCAwLjEpO1xyXG4gICAgY29udHJvbGxpR3VpLmFkZCh3aXJlUGxhbmUsIFwidmlzaWJsZVwiKS5uYW1lKFwiYmFzZSB2aXNpYmlsZVwiKTtcclxuICAgIGNvbnRyb2xsaUd1aS5vcGVuKCk7XHJcbiAgICBjb25zdCBndWlDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRnLmFjXCIpO1xyXG4gICAgZ3VpQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xyXG4gICAgZ3VpQ29udGFpbmVyLnN0eWxlLmxlZnQgPSAwO1xyXG4gICAgZ3VpQ29udGFpbmVyLnN0eWxlLnRvcCA9IDA7IFxyXG4gICAgXHJcbiAgICBndWlDb250YWluZXIuc3R5bGUuekluZGV4ID0gMTAwMDAwMDA7XHJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZ3VpQ29udGFpbmVyKVxyXG4gICAgKi9cclxuXHJcbn1cclxuICBcclxuXHJcbmNvbnN0IHN0bExvYWRlcj0odXJsKT0+e1xyXG4gICAgZmV0Y2godXJsKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzLmFycmF5QnVmZmVyKCk7XHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIGluaXQocmVzcG9uc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge3N0bExvYWRlcn1cclxuXHJcblxyXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCIwZDY4OWRkNTkwZTgwYzQ1NjJkNFwiKSJdLCJuYW1lcyI6WyJUSFJFRSIsInJlcXVpcmUiLCJTVExMb2FkZXIiLCJPcmJpdENvbnRyb2xzIiwiR1VJIiwibW9kdWxlIiwiZXhwb3J0cyIsInN0bExvYWRlciIsInVybCIsImZldGNoIiwidGhlbiIsInJlcyIsImFycmF5QnVmZmVyIiwicmVzcG9uc2UiLCJhc3luYyIsImZpbGUiLCJjb250YWluZXIiLCJjYW1lcmEiLCJzY2VuZSIsInJlbmRlcmVyIiwiY29udHJvbHMiLCJsaWdodCIsIm1lc2giLCJoZWlnaHQiLCJ3aWR0aCIsImRlcHRoIiwiZGVuc2l0eSIsInBhcnNlRmxvYXQiLCJmaWxhbWVudF9jb3N0IiwiZmlsYW1lbnRfZGlhbWV0ZXIiLCJwcmludGluZ19zcGVlZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwicG9zaXRpb24iLCJ6IiwieSIsIngiLCJ1cCIsIlZlY3RvcjMiLCJTY2VuZSIsImJhY2tncm91bmQiLCJDb2xvciIsIkZpbGVSZWFkZXIiLCJnZW9tZXRyeSIsInBhcnNlIiwiY29tcHV0ZVZlcnRleE5vcm1hbHMiLCJjZW50ZXIiLCJjb25zb2xlIiwibG9nIiwibWF0ZXJpYWwiLCJNZXNoUGhvbmdNYXRlcmlhbCIsImNvbG9yIiwiTWVzaCIsInRyYXZlcnNlIiwiY2hpbGQiLCJwb3NpdGlvbnMiLCJnZXRBdHRyaWJ1dGUiLCJhcnJheSIsImkiLCJsZW5ndGgiLCJ0MSIsInQyIiwidDMiLCJib3giLCJCb3gzIiwic2V0RnJvbU9iamVjdCIsIm1heCIsIm1pbiIsInRvRml4ZWQiLCJ2b2x1bWVGaW5hbCIsInZvbCIsIndlaWdodEZpbmFsIiwiZmlsYW1lbnRfbGVuZ3RoIiwiTWF0aCIsIlBJIiwiaG91cnMiLCJmbG9vciIsIm1pbnV0ZXMiLCJkaXN0YW5jZSIsImZpbmFsQ29zdCIsInNldCIsImRpdmlzaW9uX3giLCJkaXZpc2lvbl95Iiwid2lyZVBsYW5lIiwiUGxhbmVHZW9tZXRyeSIsImVtaXNzaXZlIiwid2lyZWZyYW1lIiwid2lyZWZyYW1lTGluZXdpZHRoIiwicmVjZWl2ZVNoYWRvdyIsImFkZCIsIkhlbWlzcGhlcmVMaWdodCIsImxpZ2h0MiIsIkRpcmVjdGlvbmFsTGlnaHQiLCJXZWJHTFJlbmRlcmVyIiwiYW50aWFsaWFzIiwic2V0U2l6ZSIsImRvbUVsZW1lbnQiLCJ1cGRhdGUiLCJhcHBlbmRDaGlsZCIsInJlbmRlciIsImFuaW1hdGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjb3B5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFzcGVjdCIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJpbml0IiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9